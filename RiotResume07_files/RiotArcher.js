(function(){if(typeof console==="undefined"){console={count:0,messages:[],log:function(a){this.messages.push(a);if(this.messages.length>20){this.messages.shift()}return ++this.count}}}window.Riot=Riot||{};Riot.Archer={domain:".leagueoflegends.com",Pid:function(a,b){if(a.match(":")){b=a.split(":")[1];a=a.split(":")[0]}this.region=a.toLowerCase();if(b){this.id=b.toString()}else{this.id=null}},getSandwormObject:function(){var a=false;try{a=Riot.getCookie("PVPNET_TOKEN_"+Riot.Sandworm.getRegion().toUpperCase())}catch(b){return false}if(a===false||a==="null"){return null}a=this.fromBase64(a);return JSON.parse(a)},fromBase64:function(a){a=a.replace(/\%2F/g,"/").replace(/\%3F/g,"?").replace(/\%3D/g,"=");return atob(a)},getSandwormPidCookie:function(){var a=this.getSandwormObject();if(a===null){return null}return new this.Pid(Riot.Sandworm.getRegion(),a.pvpnet_account_id)},getLkPidCookie:function(){var b=Riot.getCookie("_lkpid"),a=null;if(b){a=b.split(":");return new this.Pid(a[0],a[1])}return new this.Pid(Riot.Sandworm.getRegion(),null)},get30DayExpiry:function(){var a=new Date(Date.now()+30*24*60*60*1000);return a.toGMTString()},setLkPidCookie:function(b,c){var a;if(b instanceof (Riot.Archer.Pid)){a=b}else{a=new this.Pid(b,c)}Riot.setCookie("_lkpid",a.toString(),{domain:this.domain,path:"/",expires:this.get30DayExpiry()})},getPid:function(){var b=this.getSandwormPidCookie(),a=this.getLkPidCookie();if(b){this.setLkPidCookie(b);return b}else{if(a){return a}else{return new this.Pid(Riot.Sandworm.getRegion(),null)}}},isLoggedIn:function(){var a=this.getSandwormPidCookie();return(a!==false&&a!==null)},stripClickCodeFromUrl:function(){var a=window.location.hash.match(/^#(.*?)&?archer=(.*)$/);if(a[1].length>1){window.location.hash=a[1]}else{window.location.hash=""}},getClickParams:function(){var h=window.location.hash.match(/^#(.*?)&?archer=(.*)$/),c={},b,j;this.getPid();if(h===null){return false}b=h[2];if(!b.match(":")){b=this.fromBase64(b)}j=b.split(";");for(var e in j){var g="",d=j[e].match(/^(\w+):(.+)$/);if(d[1]!=="message_type"){g="click."}c[g+d[1]]=d[2]}var f=null;if(c.hasOwnProperty("click.id")&&c.hasOwnProperty("click.region")){f=new this.Pid(c["click.region"]+":"+c["click.id"])}if(f!=null){var a=new Date();a.setTime(a.getTime()-36000);Riot.setCookie("PVPNET_TOKEN_"+Riot.Sandworm.getRegion().toUpperCase(),null,{domain:".leagueoflegends.com",path:"/",expires:a.toUTCString()});this.setLkPidCookie(f)}return c},composeEvent:function(a,d){var c=new Dradis.Request();d.messageType=a;d.timestamp=new Date().getTime();var e=this.getClickParams();for(var b in e){d[b]=e[b]}c.setData(d);return c},sendEvent:function(a,c){var b=this.composeEvent(a,c);return b.send()},detectClickEvent:function(){var b;if(b=this.getClickParams()){if(b.hasOwnProperty("message_type")){var a=b.message_type;delete b.message_type;this.sendEvent(a,b);this.stripClickCodeFromUrl()}}}};Riot.Archer.Pid.prototype.toString=function(){if(this.id===null){return null}return this.region.toLowerCase()+":"+this.id.toString()};Riot.Archer.Pid.prototype.equals=function(a){return(this.region===a.region&&this.id===a.id)}})();